<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>대기방 | Quizgame</title>

    <!-- 스타일 -->
    <link rel="stylesheet" th:href="@{/stylesheets/waitingRoom.css}" />

    <!-- SockJS / STOMP (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"
            onerror="var s=document.createElement('script');s.src='https://unpkg.com/stompjs@2.3.3/lib/stomp.min.js';document.head.appendChild(s);"></script>
</head>
<body>
<header class="wr-header">
    <h1>퀴즈 대기방</h1>
    <div class="wr-status">현재 인원: <span id="memberCount">0</span> 명</div>
</header>

<main class="wr-main">
    <section class="wr-info">
        <div>방 ID: <span id="roomLabel" th:text="${roomId} ?: 'ROOM1'">ROOM1</span></div>
        <div>내 이름: <span id="userLabel" th:text="${#authentication?.name} ?: 'guest'">guest</span></div>
    </section>

    <section class="wr-log">
        <h2>이벤트</h2>
        <div id="log" class="wr-logbox"></div>
    </section>

    <section class="wr-actions">
        <button class="btn start" type="button" onclick="startGame()">게임 시작</button>
        <a class="btn back" th:href="@{/start}">뒤로가기</a>
    </section>
</main>

<!-- 페이지 전용 JS: **이 한 줄만** 남겨두세요 -->
<script th:src="@{/javascripts/waitingRoom.js}"></script>
</body>
</html>
